(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{3406:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/perfil",function(){return r(7185)}])},206:function(e,s,r){"use strict";r.d(s,{e:function(){return l}});var i=r(2627);let l=()=>{localStorage.removeItem("usuario");let e=localStorage.getItem("usuario");null==e?window.location="/inicio.html":window.location="/perfil",(0,i.G)()}},5131:function(e,s,r){"use strict";r.d(s,{Z:function(){return c}});var i=r(5893),l=r(7294),n=r(206);function a(){let[e,s]=(0,l.useState)(!1),r=(0,l.useRef)(null),[a,t]=(0,l.useState)(!1),c=()=>{s(!0)};return(0,l.useEffect)(()=>{let e=e=>{r.current&&!r.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[r]),(0,l.useEffect)(()=>{localStorage.getItem("usuario")&&t(!0)},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("nav",{children:[(0,i.jsx)("picture",{id:"contenedor-icono-barras",onClick:c,children:(0,i.jsx)("img",{src:"./assets/img/barras.svg",alt:"",id:"icono-barras"})}),(0,i.jsx)("a",{href:"/inicio.html",children:(0,i.jsx)("h1",{id:"titulo-principal",children:"\xcdndice Diario"})}),(0,i.jsxs)("ul",{id:"lista-barra-navegacion",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/inicio.html",children:"Inicio"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/planes.html",children:"Planes"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/glosario.html",children:"Glosario"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"/registro.html",children:"Reg\xedstrate"})})]})]}),e&&(0,i.jsxs)("section",{id:"menu-lateral",classNameName:"show",ref:r,children:[(0,i.jsx)("h3",{children:"Men\xfa"}),(0,i.jsxs)("ul",{id:"lista-menu-lateral",children:[(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:"/inicio.html",className:"links-menu-lateral",children:[(0,i.jsx)("img",{src:"./assets/img/casa.svg",alt:"",className:"iconos-menu-lateral"}),"Inicio"]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:"/planes.html",className:"links-menu-lateral",children:[(0,i.jsx)("img",{src:"./assets/img/papel.svg",alt:"",className:"iconos-menu-lateral"}),"Planes"]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:"/glosario.html",className:"links-menu-lateral",children:[(0,i.jsx)("img",{src:"./assets/img/listado.svg",alt:"",className:"iconos-menu-lateral"}),"Glosario"]})}),a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:"/perfil",className:"links-menu-lateral",children:[(0,i.jsx)("img",{src:"",alt:"",className:"iconos-menu-lateral"}),"Perfil"]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("button",{onClick:n.e,children:["Cerrar",(0,i.jsx)("br",{})," sesi\xf3n"]})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:"/ingreso.html",className:"links-menu-lateral",children:[(0,i.jsx)("img",{src:"./assets/img/ingreso.svg",alt:"",className:"iconos-menu-lateral"}),"Ingresa"]})}),(0,i.jsx)("li",{children:(0,i.jsxs)("a",{href:"/registro.html",className:"links-menu-lateral",children:[(0,i.jsx)("img",{src:"./assets/img/registro.svg",alt:"",className:"iconos-menu-lateral"}),"Reg\xedstrate"]})})]})]})]})]})}function t(e){return(0,i.jsx)("footer",{id:"footer",children:(0,i.jsxs)("div",{id:"contenedor-links",children:[(0,i.jsx)("div",{id:"footer-links",children:(0,i.jsxs)("ul",{id:"footer-lista",children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{className:"footer-link",href:"./inicio.html",children:"Inicio"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{className:"footer-link",href:"./planes.html",children:"Planes"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{className:"footer-link",href:"./glosario.html",children:"Glosario"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{className:"footer-link",href:"./ingreso.html",children:"Ingresa"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{className:"footer-link",href:"./registro.html",children:"Reg\xedstrate"})})]})}),(0,i.jsx)("p",{id:"footer-parrafo",children:"Indice Diario \xa9 2023"})]})})}function c(e){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a,{}),e.children,(0,i.jsx)(t,{})]})}},7185:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return o}});var i=r(5893),l=r(5131),n=r(7294),a=r(2627);function t(){let[e,s]=(0,n.useState)([]),r=async()=>{try{let e=await fetch("http://localhost:3000/infoUsuarioAdicional");if(!e.ok)throw Error("Problema al recuperar las categor\xedas");let r=await e.json(),i=localStorage.getItem("usuario"),l=JSON.parse(i);r.forEach(e=>{e.correo.includes(l.email)&&s(e)})}catch(e){console.error(e)}};return(0,n.useEffect)(()=>{r()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h2",{children:["Bienvenido ",e.nombre," ",e.apellido]}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Campo"}),(0,i.jsx)("th",{children:"Datos"})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Nombre"}),(0,i.jsx)("td",{children:e.nombre})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Apellido"}),(0,i.jsx)("td",{children:e.apellido})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Nombre de usuario"}),(0,i.jsx)("td",{children:e.nombreUsuario})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Correo electr\xf3nico"}),(0,i.jsx)("td",{children:e.correo})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"G\xe9nero"}),(0,i.jsx)("td",{children:e.genero})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Fecha de nacimiento"}),(0,i.jsx)("td",{children:e.fechaNacimiento})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Pa\xeds de residencia"}),(0,i.jsx)("td",{children:e.paisResidencia})]})]})]})]})}var c=r(206);function o(){return(0,n.useEffect)(()=>{(0,a.G)()},[]),(0,i.jsxs)(l.Z,{children:[(0,i.jsx)("section",{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Perfil"}),(0,i.jsx)("li",{children:"Realizar consultas"}),(0,i.jsx)("li",{children:"Registro de consultas"}),(0,i.jsx)("li",{children:"Configuraci\xf3n"})]})}),(0,i.jsx)("button",{onClick:c.e,children:"Cerrar sesi\xf3n"}),(0,i.jsx)(t,{})]})}},2627:function(e,s,r){"use strict";r.d(s,{G:function(){return i}});let i=async()=>{let e=localStorage.getItem("usuario");null==e&&(window.location="inicio.html");let s=JSON.parse(e),r=s.stsTokenManager.accessToken;try{let e=await fetch("http://localhost:3000/usuario/verificarToken",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});if(!e.ok)throw Error("Token inv\xe1lido");let s=await e.json();return s}catch(e){throw console.log(e.message),window.location="ingreso.html",Error("Error al verificar usuario")}}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3406)}),_N_E=e.O()}]);